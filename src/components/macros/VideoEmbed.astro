---
import ContentSection from "@/components/macros/ContentSection.astro";
import type { HTMLAttributes } from "astro/types";

export type Props = {
  url: string;
  caption?: undefined | string;
  fullWidth?: boolean | undefined;
  iframeProps?: undefined | HTMLAttributes<'iframe'>;
}

const { url, caption, fullWidth, iframeProps = {} } = Astro.props;
---

<ContentSection class="sm:px-6" fullWidth={fullWidth} caption={caption}>
  <iframe
    class="w-full aspect-video"
    src={url}
    title={caption || "Video player"}
    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
    allowfullscreen
    {...iframeProps}
  />
</ContentSection>

