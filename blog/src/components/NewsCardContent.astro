---
import Heading from "./Heading.astro";
import type { Props as NewsCardProps } from "./NewsCard.astro";
export type Props = NewsCardProps;
const {
  postLink,
  postLinkText,
  title,
  description,
  date,
  author,
  readingTime,
  theme,
} = Astro.props;

const primaryColorClasses = [
  `group-hover:text-links-active`,
  `group-focus-visible:ring-2`,
  `group-focus-visible:ring-offset-8`,
  `transition-colors`,
  ...(theme === "normal"
    ? [
        `text-links`,
        `group-focus-visible:ring-links`,
        `group-focus-visible:ring-offset-bg-alt`,
        `group-focus-visible:bg-bg-alt`,
      ]
    : [
        `text-links-inv`,
        `group-focus-visible:ring-links-inv`,
        `group-focus-visible:ring-offset-bg-inv`,
        `group-focus-visible:bg-bg-inv`,
      ]),
]
  .filter(Boolean)
  .join(" ");
---

<a
  href={postLink}
  title={postLinkText}
  {...theme === "inverted"
    ? { rel: "noopener noreferrer", target: "_blank" }
    : {}}
  class="group outline-none"
>
  <Heading size="lg" class={primaryColorClasses}>
    {title}
  </Heading>
</a>
{
  (author || readingTime) && (
    <p class="-mt-2 mb-2 flex gap-x-2 flex-wrap opacity-70">
      {author && <span>Von {author}</span>}
      {author && <span class="opacity-50 scale-150">Â·</span>}
      {readingTime && <span>{readingTime} Minuten</span>}
    </p>
  )
}
<p class="line-clamp-7">{description}</p>
<div
  class={[primaryColorClasses, `order-first text-sm`, `flex gap-2 opacity-70`]
    .filter(Boolean)
    .join(" ")}
>
  <time datetime={date} class="justify-self-end">{date}</time>
</div>
